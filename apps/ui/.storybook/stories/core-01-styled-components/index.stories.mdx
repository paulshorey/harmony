import { Meta, Story, Canvas } from '@storybook/addon-docs';
import Box from '@ps/ui/components/content/Box';
import Text from '@ps/ui/components/content/Text';
import CodeInline from '@ps/ui/components/content/CodeInline';
import ThemeProvider from '@ps/ui/components/utils/ThemeProvider';
import Wrapper from '@ps/ui/.storybook/components/Wrapper';
import {
  Container,
  ButtonCTA,
  CanvasContainer,
  CanvasContent,
  Title,
  Content,
  Button,
} from '@ps/ui/.storybook/components/Components';
import Code from '@ps/ui/components/content/Code';

<Meta title="core/Styled Components" />

<ThemeProvider>
<Wrapper>

# There are two ways to use these components:

<br />

## 1. The simplest way is to just import it

<Code
  ss="font-size: 0.85rem;"
  code={`import Button from "@ps/ui/components/content/Button";
// and use it:
<Button variant="outlined" onClick={console.log}>Click me</Button>`}
/>

## 2. Styled Components

Just like StyledComponents <CodeInline code={`styled.button\`\``}/> or <CodeInline code={`styled.div\`\``}/>, you can use <CodeInline code={`withButton()`}/> or <CodeInline code={`withDiv()`}/> etc. to pre-define styles in one place, then use them for multiple instances. This is a great way to keep your code clean, separate markup from style.

<Text as="b" textcolor="accent">
  ðŸ’¡ But with this library you can also set props, not just styles!
</Text> Any props - not just ones related to style. It's very convenient!

<Code
  ss="font-size: 0.85rem;"
  code={`import { withButton } from "@ps/ui/components/focus/Button";
  
export const MyButton = withButton({
  size: 'small',
  ss: styles.button,
  trackPath: router.pathname,
  trackFeature: form.title,
});`}
/>

When using these predefined components, you can pass new styles and props to override the predefined ones.

<Code
  ss="font-size: 0.85rem;"
  code={`<MyButton icon={<Icon name="arrow-left" />} href="/" variant="text"> back</MyButton>
  
<MyButton icon={<Icon name="stop-watch" />} onClick={handleSave} variant="outlined" loading={saving}>
  Save draft
</MyButton>
  
<MyButton
  textcolor="cta"
  icon={<Icon name="thumbs-up" />}
  onClick={handleSubmit}
  loading={saving || submitting}
  // pass a quick inline style to override default styles for just this one instance:
  // ss props accept EmotionCSS types, plus string or (props)=>string
  ss="margin-left:2rem; font-weight:bold;"
  ssPhone="display:block; margin: 1rem 0;"
>
  Submit changes
</MyButton>
`}
/>

<Text as="b" textcolor="accent">
  ðŸ¤“ The old and new props will be intelligently merged.
</Text> Style strings and classNames will be added. Other props will be replaced.{' '}

If you're setting many props for several components, it's nice to predefine all the common props, then have the option to override one style rule or one prop.

This library uses `@emotion/styled` behind the scenes (same as styled-components, but a bit better for SSR). It also relies on `@emotion/react` to manage the theme. Both are peer dependencies.

This library does NOT use Emotion's `css` prop. That would require all apps that use this library to configure it in their Webpack/Babel. But nothing's stopping you from using the `css` prop in your app.

Instead, this library introduces the `ss` prop, which accepts all the same formats as EmotionCSS, plus `string`, `(props)=>string`, and <CodeInline code={`\`Array<string | (props)=>string>\``} /> for convenience. This does not require any configuration.

</Wrapper>
</ThemeProvider>
